[{"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\index.js":"1","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\App.js":"2","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\Dashboard.js":"3","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\Signup.js":"4","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\LoginPage.js":"5","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\contexts\\AuthContext.js":"6","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\firebase.js":"7","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\Layout.js":"8"},{"size":375,"mtime":1611563266329,"results":"9","hashOfConfig":"10"},{"size":631,"mtime":1611594879715,"results":"11","hashOfConfig":"10"},{"size":2209,"mtime":1611593267781,"results":"12","hashOfConfig":"10"},{"size":2071,"mtime":1611595496254,"results":"13","hashOfConfig":"10"},{"size":1879,"mtime":1611596608081,"results":"14","hashOfConfig":"10"},{"size":1197,"mtime":1611595531111,"results":"15","hashOfConfig":"10"},{"size":570,"mtime":1611499277688,"results":"16","hashOfConfig":"10"},{"size":1163,"mtime":1611595049427,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1u0vnsv",{"filePath":"21","messages":"22","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\index.js",[],["36","37"],"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\App.js",["38","39","40","41"],"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\Dashboard.js",["42","43","44"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from './../contexts/AuthContext';\r\nimport { useLocation } from 'react-router-dom'\r\nimport Layout from \"./Layout\";\r\n\r\nconst Dashboard = (props) => {\r\n    const [list, setList] = useState([])\r\n    const [error, setError] = useState(null)\r\n    const { currentUser, db } = useAuth()\r\n    const location = useLocation()\r\n\tconst [redirectList, setRedirectList] = useState([])\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst urlListRef = db.collection('url-lists')\r\n\t\turlListRef.get().then(snapshot => {\r\n\t\t\tconst urlList = []\r\n\t\t\tsnapshot.forEach(doc => {\r\n\t\t\t\tconst data = doc.data()\r\n\t\t\t\turlList.push({\r\n\t\t\t\t\tshortUrl: data.shortUrl,\r\n\t\t\t\t\tlongUrl: data.longUrl\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tsetRedirectList(urlList)\r\n\t\t})\r\n\t}, [])\r\n\r\n    async function fetchData() {\r\n        if (!currentUser) {\r\n            setError(\"You must login first\")\r\n            return\r\n        }\r\n        const urlListRef = db.collection('url-lists')\r\n        const snapshot = await urlListRef.where('uid', '==', currentUser.uid).get()\r\n        if (snapshot.empty) {\r\n            setError(\"No shortlinks created\")\r\n        }\r\n        else {\r\n            setError(null)\r\n            snapshot.forEach(doc => {\r\n                setList(arr => [...arr,doc.data()])\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [currentUser])\r\n\r\n    \r\n\t\r\n\tuseEffect(() => {\r\n        if (location) {\r\n            const currentUrl = location.pathname.substring(1)\r\n            const obj = redirectList.find(urlObj => urlObj.shortUrl == currentUrl)\r\n            \r\n            if (!obj) {\r\n                return\r\n            }\r\n            window.location.href = obj.longUrl\r\n        }\r\n\t},[location,redirectList])\r\n\r\n    return (\r\n        <Layout>\r\n            <div>\r\n                Dashboard\r\n                {error && <h3>Error : {error}</h3>}\r\n                {list && list.map(item => <span>\r\n                    Long URL = {item.longUrl}<br/>\r\n                    Short URL = {item.shortUrl} <br/>\r\n                    <button>Modify</button> <br/><br/>\r\n                </span>)}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\Signup.js",[],"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\LoginPage.js",[],"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\contexts\\AuthContext.js",["45"],"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\firebase.js",[],"C:\\Users\\Tarun Luthra\\Desktop\\URL Shortener\\url-short\\src\\components\\Layout.js",["46"],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":1,"column":15,"nodeType":"53","messageId":"54","endLine":1,"endColumn":24},{"ruleId":"51","severity":1,"message":"55","line":1,"column":26,"nodeType":"53","messageId":"54","endLine":1,"endColumn":34},{"ruleId":"51","severity":1,"message":"56","line":2,"column":50,"nodeType":"53","messageId":"54","endLine":2,"endColumn":61},{"ruleId":"51","severity":1,"message":"57","line":6,"column":10,"nodeType":"53","messageId":"54","endLine":6,"endColumn":17},{"ruleId":"58","severity":1,"message":"59","line":27,"column":5,"nodeType":"60","endLine":27,"endColumn":7,"suggestions":"61"},{"ruleId":"58","severity":1,"message":"62","line":49,"column":8,"nodeType":"60","endLine":49,"endColumn":21,"suggestions":"63"},{"ruleId":"64","severity":1,"message":"65","line":56,"column":69,"nodeType":"66","messageId":"67","endLine":56,"endColumn":71},{"ruleId":"51","severity":1,"message":"68","line":13,"column":11,"nodeType":"53","messageId":"54","endLine":13,"endColumn":18},{"ruleId":"69","severity":1,"message":"70","line":22,"column":45,"nodeType":"71","endLine":22,"endColumn":65},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useLocation' is defined but never used.","'useAuth' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'db'. Either include it or remove the dependency array.","ArrayExpression",["74"],"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.",["75"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'history' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},{"desc":"78","fix":"79"},"Update the dependencies array to be: [db]",{"range":"80","text":"81"},"Update the dependencies array to be: [currentUser, fetchData]",{"range":"82","text":"83"},[774,776],"[db]",[1373,1386],"[currentUser, fetchData]"]